<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coolie Links - Study & Work Anywhere in the World</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --card-bg: white;
            --text-primary: #333;
            --text-muted: #6c757d;
            --navbar-bg: rgba(0, 0, 0, 0.85);
            --hero-bg: rgba(255, 255, 255, 0.1);
            --job-gradient: linear-gradient(45deg, #ff6b6b, #feca57);
            --footer-bg: rgba(0,0,0,0.9);
        }
        [data-theme="dark"] {
            --bg-gradient: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            --card-bg: #2a2a3a;
            --text-primary: #f8f9fa;
            --text-muted: #adb5bd;
            --navbar-bg: rgba(0, 0, 0, 0.95);
            --hero-bg: rgba(0, 0, 0, 0.3);
            --job-gradient: linear-gradient(45deg, #ee5a52, #f9ca24);
            --footer-bg: rgba(26, 26, 46, 0.9);
        }
        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            padding-top: 80px;
            color: var(--text-primary);
            transition: all 0.3s ease;
        }
        .navbar {
            background: var(--navbar-bg) !important;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }
        .navbar-brand {
            font-weight: 700;
            font-size: 1.8rem;
            background: linear-gradient(45deg, #00ff88, #00b7ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .hero-section {
            background: var(--hero-bg);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 60px 20px;
            margin: 30px 0;
            text-align: center;
            color: var(--text-primary);
            transition: all 0.3s ease;
        }
        .card {
            transition: all 0.3s ease;
            border: none;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            background: var(--card-bg);
            color: var(--text-primary);
        }
        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        .university-card {
            margin-bottom: 20px;
        }
        .flag {
            font-size: 1.8rem;
            margin-right: 10px;
        }
        .search-box {
            max-width: 600px;
            margin: 0 auto;
        }
        .job-portal-card {
            background: var(--job-gradient);
            color: white;
        }
        footer {
            background: var(--footer-bg);
            color: #aaa;
            padding: 40px 0;
            margin-top: 80px;
            transition: all 0.3s ease;
        }
        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: white;
        }
        #loading {
            text-align: center;
            color: white;
            margin: 50px 0;
        }
        .pagination {
            justify-content: center;
            margin-top: 30px;
        }
        .page-item.active .page-link {
            background-color: #00b7ff;
            border-color: #00b7ff;
        }
    </style>
</head>
<body data-theme="light">

<!-- Fixed Floating Navbar -->
<nav class="navbar navbar-expand-lg fixed-top">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Coolie Links</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link text-white" href="#universities">Universities</a></li>
                <li class="nav-item"><a class="nav-link text-white" href="#jobs">Job Portals</a></li>
                <li class="nav-item"><a class="nav-link text-white" href="#about">About</a></li>
                <li class="nav-item">
                    <button class="theme-toggle" id="themeToggle" title="Toggle Dark Mode">
                        <i class="bi bi-moon-stars-fill"></i>
                    </button>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Hero Section -->
<div class="container">
    <div class="hero-section">
        <h1 class="display-4 fw-bold">Coolie Links</h1>
        <p class="lead">Your One-Stop Portal to Study & Work Anywhere in the World</p>
        <p>Search 10,000+ universities by country ‚Ä¢ Apply directly ‚Ä¢ Find your dream job worldwide</p>
        <div class="search-box mt-4">
            <input type="text" id="globalSearch" class="form-control form-control-lg rounded-pill" placeholder="üîç Search any university or country...">
        </div>
    </div>
</div>

<!-- Universities Section -->
<div class="container my-5" id="universities">
    <h2 class="text-center mb-5" style="color: white;">üåç 10,000+ Universities & Colleges Worldwide</h2>
    <div class="row">
        <div class="col-lg-4 mb-4">
            <select id="countryFilter" class="form-select form-select-lg mb-3">
                <option value="">All Countries</option>
                <!-- Countries will be populated dynamically -->
            </select>
        </div>
        <div class="col-lg-4 mb-4">
            <input type="number" id="perPage" class="form-control" placeholder="Results per page (default 20)" value="20" min="10" max="100">
        </div>
    </div>

    <div id="loading" class="row">
        <div class="col-12">
            <div class="spinner-border text-light" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p>Loading 10,000+ universities... This may take a moment.</p>
        </div>
    </div>

    <div id="universityList" class="row" style="display: none;"></div>
    <nav aria-label="University pagination">
        <ul class="pagination" id="pagination"></ul>
    </nav>
</div>

<!-- Job Portals Section -->
<div class="container my-5" id="jobs">
    <h2 class="text-center mb-5" style="color: white;">üíº Global Job Portals ‚Äì Apply Anywhere</h2>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        <!-- Job portals will be injected here by JavaScript -->
    </div>
</div>

<!-- About Section -->
<div class="container my-5" id="about">
    <div class="hero-section">
        <h2 style="color: var(--text-primary);">About Coolie Links</h2>
        <p style="color: var(--text-primary);">We believe education and opportunity should have no borders. Coolie Links connects ambitious students and professionals to over 10,000 universities and jobs worldwide ‚Äî all in one place.</p>
        <p class="fw-bold" style="color: var(--text-primary);">Study where you dream. Work where you thrive.</p>
    </div>
</div>

<footer class="text-center">
    <div class="container">
        <p>&copy; 2025 Coolie Links ‚Ä¢ Made with ‚ù§Ô∏è for global dreamers</p>
        <p>No borders. No limits. Just opportunities.</p>
    </div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
// Major Global Job Portals (unchanged)
const jobPortals = [
    { name: "LinkedIn", url: "https://www.linkedin.com/jobs", icon: "bi-linkedin", color: "bg-primary" },
    { name: "Indeed Worldwide", url: "https://www.indeed.com/worldwide", icon: "bi-globe", color: "bg-info" },
    { name: "Glassdoor", url: "https://www.glassdoor.com", icon: "bi-building", color: "bg-success" },
    { name: "Monster", url: "https://www.monster.com", icon: "bi-briefcase", color: "bg-warning" },
    { name: "Naukri (India)", url: "https://www.naukri.com", icon: "bi-search", color: "bg-danger" },
    { name: "Seek (Australia/NZ)", url: "https://www.seek.com.au", icon: "bi-briefcase-fill", color: "bg-purple" },
    { name: "StepStone (Europe)", url: "https://www.stepstone.com", icon: "bi-euro", color: "bg-dark" },
    { name: "CareerJet (150+ countries)", url: "https://www.careerjet.com", icon: "bi-airplane", color: "bg-primary" },
    { name: "ZipRecruiter", url: "https://www.ziprecruiter.com", icon: "bi-lightning", color: "bg-warning" },
    { name: "TotalJobs (UK)", url: "https://www.totaljobs.com", icon: "bi-geo-alt", color: "bg-success" }
];

// Flag emoji map by country name (partial - extend as needed)
const countryFlags = {
    'United States': 'üá∫üá∏',
    'United Kingdom': 'üá¨üáß',
    'Canada': 'üá®üá¶',
    'Australia': 'üá¶üá∫',
    'Germany': 'üá©üá™',
    'France': 'üá´üá∑',
    'India': 'üáÆüá≥',
    'Japan': 'üáØüáµ',
    'China': 'üá®üá≥',
    'South Korea': 'üá∞üá∑',
    'Netherlands': 'üá≥üá±',
    'Switzerland': 'üá®üá≠',
    'Sweden': 'üá∏üá™',
    'Singapore': 'üá∏üá¨',
    'New Zealand': 'üá≥üáø',
    'Brazil': 'üáßüá∑',
    'Russia': 'üá∑üá∫',
    'Italy': 'üáÆüáπ',
    'Spain': 'üá™üá∏',
    'Mexico': 'üá≤üáΩ',
    // Add more flags as needed
};

// Fetch universities from public JSON API (10k+ entries)
let universities = [];
let allUniversities = [];
let currentPage = 1;
let perPage = 20;
let filteredUniversities = [];

async function loadUniversities() {
    try {
        const response = await fetch('https://raw.githubusercontent.com/Hipo/university-domains-list/master/world_universities_and_domains.json');
        if (!response.ok) throw new Error('Failed to fetch');
        const data = await response.json();
        allUniversities = data.map(uni => ({
            name: uni.name,
            country: uni.country,
            website: uni.web_pages[0] || '#',
            flag: countryFlags[uni.country] || 'üè´'
        })).filter(uni => uni.website !== '#'); // Filter valid websites
        universities = [...allUniversities];
        filteredUniversities = [...universities];
        populateCountries();
        renderUniversities();
        document.getElementById('loading').style.display = 'none';
        document.getElementById('universityList').style.display = 'flex';
    } catch (error) {
        console.error('Error loading universities:', error);
        document.getElementById('loading').innerHTML = '<div class="col-12 text-center text-white"><h4>Error loading data. Using sample data.</h4><p>Please check your connection or try again later.</p></div>';
        // Fallback to sample if fetch fails
        universities = [
            // Insert your original sample here if needed
            { name: "Harvard University", country: "United States", website: "https://www.harvard.edu", flag: "üá∫üá∏" },
            // ... add a few more for fallback
        ];
        renderUniversities();
    }
}

// Populate country filter
function populateCountries() {
    const countries = [...new Set(universities.map(u => u.country))].sort();
    const select = document.getElementById('countryFilter');
    countries.forEach(country => {
        const option = document.createElement('option');
        option.value = country;
        option.textContent = `\( {countryFlags[country] || 'üè´'} \){country}`;
        select.appendChild(option);
    });
}

// Render Universities with pagination
function renderUniversities() {
    const start = (currentPage - 1) * perPage;
    const end = start + perPage;
    const pageData = filteredUniversities.slice(start, end);

    const container = document.getElementById('universityList');
    container.innerHTML = '';

    if (filteredUniversities.length === 0) {
        container.innerHTML = '<div class="col-12 text-center" style="color: var(--text-primary);"><h4>No universities found. Try a different search.</h4></div>';
        renderPagination(1);
        return;
    }

    pageData.forEach(uni => {
        const card = `
            <div class="col-md-6 col-lg-4">
                <div class="card university-card h-100">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">
                            <span class="flag">\( {uni.flag}</span> \){uni.name}
                        </h5>
                        <p class="text-muted mb-2"><strong>Country:</strong> ${uni.country}</p>
                        <a href="${uni.website}" target="_blank" class="btn btn-outline-primary mt-auto">
                            Visit Website <i class="bi bi-box-arrow-up-right"></i>
                        </a>
                    </div>
                </div>
            </div>
        `;
        container.innerHTML += card;
    });

    renderPagination(Math.ceil(filteredUniversities.length / perPage));
}

// Render Pagination
function renderPagination(totalPages) {
    const pagination = document.getElementById('pagination');
    pagination.innerHTML = '';

    // Previous button
    if (currentPage > 1) {
        const prev = document.createElement('li');
        prev.className = 'page-item';
        prev.innerHTML = `<a class="page-link" href="#" onclick="changePage(${currentPage - 1})">Previous</a>`;
        pagination.appendChild(prev);
    }

    // Page numbers (show 5 around current)
    const startPage = Math.max(1, currentPage - 2);
    const endPage = Math.min(totalPages, currentPage + 2);
    for (let i = startPage; i <= endPage; i++) {
        const li = document.createElement('li');
        li.className = `page-item ${i === currentPage ? 'active' : ''}`;
        li.innerHTML = `<a class="page-link" href="#" onclick="changePage(\( {i})"> \){i}</a>`;
        pagination.appendChild(li);
    }

    // Next button
    if (currentPage < totalPages) {
        const next = document.createElement('li');
        next.className = 'page-item';
        next.innerHTML = `<a class="page-link" href="#" onclick="changePage(${currentPage + 1})">Next</a>`;
        pagination.appendChild(next);
    }
}

function changePage(page) {
    currentPage = page;
    renderUniversities();
}

// Render Job Portals (unchanged)
function renderJobPortals() {
    const container = document.querySelector('#jobs .row');
    jobPortals.forEach(portal => {
        const card = `
            <div class="col">
                <div class="card job-portal-card text-white h-100 text-center p-4">
                    <i class="bi ${portal.icon} display-1 mb-3"></i>
                    <h4>${portal.name}</h4>
                    <a href="${portal.url}" target="_blank" class="btn btn-light mt-3">
                        Open Portal <i class="bi bi-box-arrow-up-right"></i>
                    </a>
                </div>
            </div>
        `;
        container.innerHTML += card;
    });
}

// Search & Filter Functionality
document.getElementById('globalSearch').addEventListener('input', function(e) {
    const query = e.target.value.toLowerCase();
    filteredUniversities = universities.filter(uni => 
        uni.name.toLowerCase().includes(query) || 
        uni.country.toLowerCase().includes(query)
    );
    currentPage = 1;
    renderUniversities();
});

document.getElementById('countryFilter').addEventListener('change', function(e) {
    const country = e.target.value;
    filteredUniversities = country ? universities.filter(uni => uni.country === country) : universities;
    currentPage = 1;
    renderUniversities();
});

document.getElementById('perPage').addEventListener('change', function(e) {
    perPage = parseInt(e.target.value) || 20;
    currentPage = 1;
    renderUniversities();
});

// Dark Mode Toggle
document.getElementById('themeToggle').addEventListener('click', function() {
    const body = document.body;
    const currentTheme = body.getAttribute('data-theme');
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
    body.setAttribute('data-theme', newTheme);
    this.querySelector('i').className = newTheme === 'dark' ? 'bi bi-sun-fill' : 'bi bi-moon-stars-fill';
    localStorage.setItem('theme', newTheme);
});

// Load saved theme
const savedTheme = localStorage.getItem('theme') || 'light';
document.body.setAttribute('data-theme', savedTheme);
const toggleIcon = document.querySelector('#themeToggle i');
toggleIcon.className = savedTheme === 'dark' ? 'bi bi-sun-fill' : 'bi bi-moon-stars-fill';

// Initialize
loadUniversities();
renderJobPortals();

</script>

</body>
</html>
