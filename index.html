<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coolie Links - Study, Work & Build Your CV</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- html2pdf.js for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --primary: #667eea; --secondary: #764ba2; --accent: #00ff88; --light: #f8f9fa;
        }
        [data-theme="dark"] {
            --primary: #5a67d8; --secondary: #9f7aea; --light: #2d3748; --bg: #1a202c;
        }
        body {font-family:'Poppins',sans-serif;background:linear-gradient(135deg,var(--primary),var(--secondary));min-height:100vh;color:#333;padding-top:80px;transition:all .3s;}
        [data-theme="dark"] body {background:#1a202c;color:#e2e8f0;}
        .navbar {background:rgba(0,0,0,0.9)!important;backdrop-filter:blur(10px);}
        .navbar-brand {font-weight:700;font-size:1.9rem;background:linear-gradient(45deg,#00ff88,#00b7ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
        .card {border:none;border-radius:15px;box-shadow:0 10px 30px rgba(0,0,0,.2);transition:all .3s;}
        .card:hover {transform:translateY(-5px);}
        .form-control, .form-select {border-radius:10px;}
        .btn-primary {background:linear-gradient(45deg,#00ff88,#00b7ff);border:none;border-radius:50px;padding:12px 30px;font-weight:600;}
        .theme-toggle {background:none;border:none;font-size:1.6rem;color:white;cursor:pointer;}
        #cvPreview {background:white;color:#2d3748;padding:40px;border-radius:15px;box-shadow:0 20px 40px rgba(0,0,0,.3);max-width:900px;margin:0 auto;}
        .cv-header {background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:40px 30px;border-radius:12px 12px 0 0;margin:-40px -40px 30px -40px;}
        .cv-section {margin-bottom:30px;}
        .cv-section h3 {color:#667eea;border-bottom:2px solid #667eea;padding-bottom:8px;margin-bottom:15px;}
        .skill-tag {display:inline-block;background:#e0e7ff;color:#667eea;padding:5px 12px;border-radius:50px;font-size:0.9rem;margin:4px;}
        .experience-item, .education-item {border-left:4px solid #667eea;padding-left:20px;margin-bottom:20px;}
        footer {background:rgba(0,0,0,0.9);color:#aaa;padding:40px 0;margin-top:100px;}
    </style>
</head>
<body data-theme="light">

<!-- Navbar -->
<nav class="navbar navbar-expand-lg fixed-top">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Coolie Links</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link text-white" href="#universities">Universities</a></li>
                <li class="nav-item"><a class="nav-link text-white" href="#jobs">Jobs</a></li>
                <li class="nav-item"><a class="nav-link text-white" href="#cv">Build CV</a></li>
                <li class="nav-item"><button class="theme-toggle" id="themeToggle"><i class="bi bi-moon-stars-fill"></i></button></li>
            </ul>
        </div>
    </div>
</nav>

<div class="container mt-5">
    <div class="text-center text-white mb-5">
        <h1 class="display-4">Coolie Links</h1>
        <p class="lead">Study • Work • Build Your Professional CV — All in One Place</p>
    </div>
</div>

<!-- CV Builder Section -->
<div class="container my-5" id="cv">
    <div class="card p-4">
        <h2 class="text-center mb-4">Create Your Professional CV (Free PDF Download)</h2>
        <form id="cvForm">
            <div class="row g-4">
                <!-- Personal Info -->
                <div class="col-12"><h4>Personal Information</h4></div>
                <div class="col-md-6"><input type="text" class="form-control" placeholder="Full Name" id="fullName" required></div>
                <div class="col-md-6"><input type="text" class="form-control" placeholder="Profession / Title (e.g. Software Engineer)" id="title"></div>
                <div class="col-md-6"><input type="email" class="form-control" placeholder="Email" id="email"></div>
                <div class="col-md-6"><input type="tel" class="form-control" placeholder="Phone" id="phone"></div>
                <div class="col-12"><input type="text" class="form-control" placeholder="Address (City, Country)" id="address"></div>
                <div class="col-12"><textarea class="form-control" rows="3" placeholder="Professional Summary (2-4 sentences)" id="summary"></textarea></div>

                <!-- Education -->
                <div class="col-12 mt-4"><h4>Education</h4></div>
                <div id="educationContainer">
                    <div class="row g-3 education-entry mb-3">
                        <div class="col-md-4"><input type="text" class="form-control" placeholder="Degree (e.g. BSc Computer Science)"></div>
                        <div class="col-md-4"><input type="text" class="form-control" placeholder="University Name"></div>
                        <div class="col-md-3"><input type="text" class="form-control" placeholder="Year (e.g. 2019 - 2023)"></div>
                        <div class="col-md-1"><button type="button" class="btn btn-danger btn-sm remove-edu">X</button></div>
                    </div>
                </div>
                <div class="col-12"><button type="button" class="btn btn-outline-primary" id="addEducation">+ Add Education</button></div>

                <!-- Experience -->
                <div class="col-12 mt-4"><h4>Work Experience</h4></div>
                <div id="experienceContainer">
                    <div class="row g-3 experience-entry mb-3">
                        <div class="col-md-4"><input type="text" class="form-control" placeholder="Job Title"></div>
                        <div class="col-md-4"><input type="text" class="form-control" placeholder="Company Name"></div>
                        <div class="col-md-3"><input type="text" class="form-control" placeholder="Duration (e.g. 2021 - Present)"></div>
                        <div class="col-md-1"><button type="button" class="btn btn-danger btn-sm remove-exp">X</button></div>
                        <div class="col-12"><textarea class="form-control mt-2" rows="3" placeholder="Key responsibilities & achievements"></textarea></div>
                    </div>
                </div>
                <div class="col-12"><button type="button" class="btn btn-outline-primary" id="addExperience">+ Add Experience</button></div>

                <!-- Skills -->
                <div class="col-12 mt-4"><h4>Skills (comma-separated)</h4></div>
                <div class="col-12"><input type="text" class="form-control" placeholder="e.g. JavaScript, React, Python, Leadership" id="skills"></div>

                <!-- Languages -->
                <div class="col-12 mt-4"><h4>Languages</h4></div>
                <div class="col-12"><input type="text" class="form-control" placeholder="e.g. English (Native), Spanish (Fluent), French (Basic)" id="languages"></div>

                <!-- Submit -->
                <div class="col-12 text-center mt-5">
                    <button type="button" class="btn btn-primary btn-lg px-5" id="generateCV">
                        Download CV as PDF
                    </button>
                </div>
            </div>
        </form>
    </div>

    <!-- Hidden CV Preview (for PDF generation) -->
    <div id="cvPreview" style="display:none;"></div>
</div>

<!-- Universities & Jobs sections (shortened for space — full code from previous version still works) -->
<div class="container my-5" id="universities">
    <h2 class="text-white text-center">10,000+ Universities</h2>
    <input type="text" id="globalSearch" class="form-control rounded-pill mb-4" placeholder="Search universities...">
    <div id="universityList" class="row"></div>
</div>

<div class="container my-5" id="jobs">
    <h2 class="text-white text-center">Global Job Portals</h2>
    <div class="row row-cols-1 row-cols-md-3 g-4">
        <!-- Job portals will be injected -->
    </div>
</div>

<footer class="text-center text-white">
    <p>© 2025 Coolie Links • Your global education & career hub</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
// [Previous university & job portal code remains unchanged — omitted here for brevity]

// CV Builder Logic
document.getElementById('addEducation').onclick = () => {
    document.getElementById('educationContainer').insertAdjacentHTML('beforeend', `
        <div class="row g-3 education-entry mb-3">
            <div class="col-md-4"><input type="text" class="form-control" placeholder="Degree"></div>
            <div class="col-md-4"><input type="text" class="form-control" placeholder="University"></div>
            <div class="col-md-3"><input type="text" class="form-control" placeholder="Year"></div>
            <div class="col-md-1"><button type="button" class="btn btn-danger btn-sm remove-edu">X</button></div>
        </div>`);
};

document.getElementById('addExperience').onclick = () => {
    document.getElementById('experienceContainer').insertAdjacentHTML('beforeend', `
        <div class="row g-3 experience-entry mb-3">
            <div class="col-md-4"><input type="text" class="form-control" placeholder="Job Title"></div>
            <div class="col-md-4"><input type="text" class="form-control" placeholder="Company"></div>
            <div class="col-md-3"><input type="text" class="form-control" placeholder="Duration"></div>
            <div class="col-md-1"><button type="button" class="btn btn-danger btn-sm remove-exp">X</button></div>
            <div class="col-12"><textarea class="form-control mt-2" rows="3" placeholder="Responsibilities & achievements"></textarea></div>
        </div>`);
};

document.addEventListener('click', e => {
    if (e.target.classList.contains('remove-edu') || e.target.classList.contains('remove-exp')) {
        e.target.closest('.education-entry, .experience-entry').remove();
    }
});

document.getElementById('generateCV').onclick = () => {
    const name = document.getElementById('fullName').value || "Your Name";
    const title = document.getElementById('title').value || "Professional";
    const email = document.getElementById('email').value;
    const phone = document.getElementById('phone').value;
    const address = document.getElementById('address').value;
    const summary = document.getElementById('summary').value || "Dedicated professional with strong skills and global ambitions.";
    const skills = document.getElementById('skills').value.split(',').map(s => s.trim()).filter(s => s);
    const languages = document.getElementById('languages').value || "English";

    // Collect education
    const eduHTML = Array.from(document.querySelectorAll('.education-entry')).map(entry => {
        const inputs = entry.querySelectorAll('input');
        return inputs.length >= 3 ? `<div class="education-item">
            <strong>${inputs[0].value || "Degree"}</strong><br>
            \( {inputs[1].value || "University"} <small class="text-muted"> \){inputs[2].value || ""}</small>
        </div>` : '';
    }).join('');

    // Collect experience
    const expHTML = Array.from(document.querySelectorAll('.experience-entry')).map(entry => {
        const inputs = entry.querySelectorAll('input');
        const textarea = entry.querySelector('textarea');
        return inputs.length >= 3 ? `<div class="experience-item mb-4">
            <strong>\( {inputs[0].value || "Job Title"}</strong> at <em> \){inputs[1].value || "Company"}</em>
            <small class="text-muted d-block">${inputs[2].value || "Dates"}</small>
            <p class="mt-2">${(textarea?.value || "").replace(/\n/g, '<br>')}</p>
        </div>` : '';
    }).join('');

    const cvHTML = `
        <div style="font-family: 'Georgia', serif; line-height:1.6;">
            <div class="cv-header text-center">
                <h1 style="margin:0;font-size:3rem;">${name}</h1>
                <p style="font-size:1.3rem;margin:10px 0 0;">${title}</p>
            </div>
            <div style="padding:0 40px;">
                <div class="row">
                    <div class="col-8">
                        <div class="cv-section">
                            <h3>Professional Summary</h3>
                            <p>${summary.replace(/\n/g, '<br>')}</p>
                        </div>
                        \( {expHTML ? `<div class="cv-section"><h3>Experience</h3> \){expHTML}</div>` : ''}
                        \( {eduHTML ? `<div class="cv-section"><h3>Education</h3> \){eduHTML}</div>` : ''}
                    </div>
                    <div class="col-4">
                        <div class="cv-section">
                            <h3>Contact</h3>
                            \( {email ? `<p>Email: \){email}</p>` : ''}
                            \( {phone ? `<p>Phone: \){phone}</p>` : ''}
                            \( {address ? `<p>Location: \){address}</p>` : ''}
                        </div>
                        \( {skills.length ? `<div class="cv-section"><h3>Skills</h3> \){skills.map(s => `<span class="skill-tag">${s}</span>`).join('')}</div>` : ''}
                        <div class="cv-section"><h3>Languages</h3><p>${languages}</p></div>
                    </div>
                </div>
            </div>
        </div>`;

    document.getElementById('cvPreview').innerHTML = cvHTML;

    html2pdf()
        .set({margin: [0.5, 0.5, 0.5, 0.5], filename: `${name.replace(/ /g,'_')}_CV.pdf`, html2canvas: {scale: 2}, jsPDF: {format: 'a4'}})
        .from(document.getElementById('cvPreview'))
        .save();
};

// Dark mode & other scripts remain the same
document.getElementById('themeToggle').addEventListener('click', () => {
    const isDark = document.body.getAttribute('data-theme') === 'dark';
    document.body.setAttribute('data-theme', isDark ? 'light' : 'dark');
    document.querySelector('#themeToggle i').className = isDark ? 'bi bi-moon-stars-fill' : 'bi bi-sun-fill';
    localStorage.setItem('theme', isDark ? 'light' : 'dark');
});
const savedTheme = localStorage.getItem('theme') || 'light';
document.body.setAttribute('data-theme', savedTheme);
document.querySelector('#themeToggle i').className = savedTheme === 'dark' ? 'bi bi-sun-fill' : 'bi bi-moon-stars-fill';

// Initialize universities & jobs (same as before)
</script>
</body>
</html>
